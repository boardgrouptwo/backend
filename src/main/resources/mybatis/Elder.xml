<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.khcare.spring.mapper.UserMapper">
    <select id="elderSelect" parameterType="map" resultType="map">
        SELECT elder_id, elder_name, elder_age, elder_gender, elder_status, attendance_date, discharge_date FROM elders
        WHERE elder_id = #{user_id};
    </select>

    <insert id="elderInsert" parameterType="map">
        INSERT INTO elders
            (
                  elder_id
                , elder_name
                <if test="elder_age != null">
                    , elder_age
                </if>
                <if test="elder_gender != null">
                    , elder_gender
                </if>
                <if test="elder_status != null">
                    , elder_status
                </if>
                , attendance_date
            )
        VALUES (
                    #{user_id}
                    , #{elder_name}
                <if test="elder_age != null">
                    , #{elder_age}
                </if>
                <if test="elder_gender != null">
                    , #{elder_gender}
                </if>
                <if test="elder_status != null">
                    , #{elder_status}
                </if>
                    , now()
               )
    </insert>
</mapper>